<!DOCTYPE html>
<html>
<head>
	<title>Fusor Simulation for Michal Racko</title>
  <script src="processing.js"></script>
  <style type="text/css">
		body{
			background-color:#000000;
			margin:0px 0px 0px 0px;
		}

	</style>
</head>
<body>
<div id="frame">
<script type="application/processing" target="sketch">

ArrayList particles;

void setup()
{
  size(880, 700);
  background(50);
  smooth();

  particles = new ArrayList();
  blueSpots = new ArrayList();
  brownSpots = new ArrayList();

  blueSpots.add(Particle());
}

void draw()
{
  background(0);

}

class Particle {

  PVector loc = new PVector(height/2, width/2);
  PVector vel = new PVector(0, 0);
  PVector acc = new PVector(0, 0);
  float topSpeed = 3;
  float rad = 5;

  float age;
  float maxAge;

  int opacity;

  int R = 255;
  int G = 255;
  int B = 255;

  Particle(int tempX, int tempY, int r, int g, int b) {
  	loc.x = tempX;
  	loc.y = tempY;

  	vel = new PVector(0, 0);
  	acc = new PVector(-0.001, 0.01);

    R = r;
    G = g;
    B = b;

    opacity = 150;
  }

  void update(){
  	vel.add(acc);
  	loc.add(vel);
  	frame();
  	wander();
  	cohere();
  	seperate();
  	align();
  	mouseAvoid();
  	drawLines();

  	xoff += xincrement;

  }

  void draw() {

  	colorMode(HSB);
    fill(R, G, B, opacity);
    noStroke();
    ellipse(loc.x, loc.y, rad*2, rad*2);
  }

  void frame(){
  	if (loc.y>height-rad) {
      loc.y = height-rad;
      vel.y = vel.y * -1;
      colorChange = int(noise(xoff)*30);
    }

    if (loc.y<rad) {
      loc.y = rad;
      vel.y = vel.y * -1;
      colorChange = int(noise(xoff)*30);
    }

    if (loc.x>width-rad) {
      loc.x = width-rad;
      vel.x = vel.x * -1;
      colorChange = int(noise(xoff)*30);
    }

    if (loc.x<rad) {
      loc.x = rad;
      vel.x = vel.x * -1;
      colorChange = int(noise(xoff)*30);
    }
  }

}

</script>
<canvas id="sketch"></canvas>
</div>

</body>
</html>
