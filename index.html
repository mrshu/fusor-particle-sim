<!DOCTYPE html>
<html>
<head>
	<title>Fusor Simulation for Michal Racko</title>
  <script src="processing.js"></script>
  <style type="text/css">
		body{
			background-color:#333;
		}

    canvas {
    }

    #frame {
      width: 880px;
      margin: 0 auto;
    }

	</style>
</head>
<body>
<div id="frame">
<script type="application/processing" target="sketch">

ArrayList particles;

void setup()
{
  size(880, 700);
  background(50);
  smooth();

  particles = new ArrayList();
  blueSpots = new ArrayList();
  brownSpots = new ArrayList();

  int x = 80;

  blueSpots.add(new Particle(width/2 - x, height/2, 0, 0, 255));
  blueSpots.add(new Particle(width/2 + x, height/2, 0, 0, 255));
  blueSpots.add(new Particle(width/2 - x/2, height/2 - x/2, 0, 0, 255));
  blueSpots.add(new Particle(width/2 + x/2, height/2 + x/2, 0, 0, 255));
  blueSpots.add(new Particle(width/2 - x/2, height/2 + x/2, 0, 0, 255));
  blueSpots.add(new Particle(width/2 + x/2, height/2 - x/2, 0, 0, 255));

  brownSpots.add(new Particle(width/2 - 3*x, height/2 - x, 142, 42, 42));
  brownSpots.add(new Particle(width/2 + 3*x, height/2 + x, 142, 42, 42));
}

void draw()
{
  background(0, 0, 0);
  for (int i=0; i< blueSpots.size(); i++) {
    Particle spot = (Particle) blueSpots.get(i);
    spot.draw();
  }
  for (int i=0; i< brownSpots.size(); i++) {
    Particle spot = (Particle) brownSpots.get(i);
    spot.draw();
  }




}

class Particle {

  PVector loc = new PVector(width/2, height/2);
  PVector vel = new PVector(0, 0);
  PVector acc = new PVector(0, 0);
  float topSpeed = 3;
  float rad = 5;

  float age;
  float maxAge;

  int opacity;

  int R = 255;
  int G = 255;
  int B = 255;

  Particle(int tempX, int tempY, int r, int g, int b) {
  	loc.x = tempX;
  	loc.y = tempY;

  	vel = new PVector(0, 0);
  	acc = new PVector(0, 0);

    R = r;
    G = g;
    B = b;

    opacity = 0;
  }

  void update(){
  	vel.add(acc);
  	loc.add(vel);
  	frame();
  	wander();
  	cohere();
  	seperate();
  	align();
  	mouseAvoid();
  	drawLines();

  	xoff += xincrement;

  }

  void draw() {

  	colorMode(RGB);
    fill(R, G, B);
    noStroke();
    ellipse(loc.x, loc.y, rad*2, rad*2);
  }

  void frame(){
  	if (loc.y>height-rad) {
      loc.y = height-rad;
      vel.y = vel.y * -1;
      colorChange = int(noise(xoff)*30);
    }

    if (loc.y<rad) {
      loc.y = rad;
      vel.y = vel.y * -1;
      colorChange = int(noise(xoff)*30);
    }

    if (loc.x>width-rad) {
      loc.x = width-rad;
      vel.x = vel.x * -1;
      colorChange = int(noise(xoff)*30);
    }

    if (loc.x<rad) {
      loc.x = rad;
      vel.x = vel.x * -1;
      colorChange = int(noise(xoff)*30);
    }
  }

}

</script>
<canvas id="sketch"></canvas>
</div>

</body>
</html>
